!function(a){"use strict";var b={initialised:!1,container:a("#portfolio-item-container"),init:function(){if(!this.initialised){this.initialised=!0;var b=this;a.fn.imagesLoaded&&imagesLoaded(b.container,function(){b.calculateWidth(),b.isotopeActivate(),b.isotopeFilter(),b.hoverAnimation(),b.prettyPhoto(),b.infinitescroll(),b.openProject(),b.registerScrollBar()})}},calculateWidth:function(){var b,c=a(window).width(),d=this.container.width(),e=this.container.data("maxcolumn");b=c>1170?e?e:5:c>960?e?e:4:c>768?3:c>540?2:1;var f=this.container.find(".portfolio-item");b>=4&&f.hasClass("wide")?(this.container.find(".wide").css("width",2*Math.floor(d/b)),f.not(".wide").css("width",Math.floor(d/b))):f.css("width",Math.floor(d/b))},prettyPhoto:function(){a.fn.prettyPhoto&&a("a[data-rel^='prettyPhoto']").prettyPhoto({hook:"data-rel",animation_speed:"fast",slideshow:6e3,autoplay_slideshow:!0,show_title:!1,deeplinking:!1,social_tools:"",overlay_gallery:!0})},isotopeActivate:function(){{var a=this.container,b=a.data("layoutmode");a.isotope({itemSelector:".portfolio-item",layoutMode:b?b:"masonry",transitionDuration:0}).data("isotope")}},isotopeReinit:function(){this.container.isotope("destroy"),this.isotopeActivate()},isotopeFilter:function(){var b=this,c=a("#portfolio-filter");c.find("a").on("click",function(d){var e=a(this),f=e.attr("data-filter"),g=b.container.data("animationclass"),h=g?g:"fadeInUp";c.find(".active").removeClass("active"),b.container.find(".portfolio-item").removeClass("animate-item "+h),b.container.isotope({filter:f,transitionDuration:"0.7s"}),e.addClass("active"),d.preventDefault()})},elementsAnimate:function(){var b=this.container.data("animationclass"),c=b?b:"fadeInUp";this.container.find(".animate-item").each(function(){var b=a(this),d=b.data("animate-time");setTimeout(function(){b.addClass("animated "+c)},d)}),this.container.isotope("layout")},hoverAnimation:function(){var b=this.container.data("rotateanimation"),c=b?b:!1;a.fn.hoverdir&&this.container.find("li").each(function(){a(this).hoverdir({speed:400,hoverDelay:0,hoverElem:".portfolio-overlay",rotate3d:c})})},infinitescroll:function(){var b=this;a.fn.infinitescroll&&this.container.infinitescroll({navSelector:"#page-nav",nextSelector:"#page-nav a:first",itemSelector:"li.portfolio-item",loading:{finishedMsg:"No more post to load.",img:"//eonythemes.com/themes/t/images/load.GIF"}},function(c){b.container.isotope("appended",a(c)),b.calculateWidth(),b.elementsAnimate(),b.container.isotope("layout"),b.hoverAnimation(),b.prettyPhoto(),b.openProject()})},resizeScrollBar:function(b){var c=a("#portfolio-single-content");!c.is(":hidden")&&b&&c.css("height",a(window).height()),c.getNiceScroll().resize()},registerScrollBar:function(){a.fn.niceScroll&&a("#portfolio-single-content.homepage-portfolio-single").niceScroll({zindex:9999,autohidemode:!0,background:"rgba(0,0,0, 0.04)",cursorcolor:"#45484a",cursorwidth:"7px",cursorborder:"1px solid #ccc",cursorborderradius:"4px"})},openProject:function(){{var b=this,c=a("#portfolio-single-content");c.find(".single-portfolio")}a(".open-btn").on("click",function(d){d.preventDefault();var e=a(this),f=e.closest(".portfolio-item");c.is(":hidden")?c.hasClass("onepage-portfolio-single")?b.loadProject.call(this,c,f,!1):b.loadProject.call(this,c,f,!0):c.fadeOut(500,function(){b.container.find(".portfolio-item.active").removeClass("active"),c.hasClass("onepage-portfolio-single")?b.loadProject.call(e,c,f,!1):b.loadProject.call(e,c,f,!0)})})},loadProject:function(c,d,e){var f=a(this),g=f.attr("href");if(""===g)return void alert("Path is empyt! Please use right path for the project!");if(-1==g.indexOf(".html"))return void alert("Not a valid path! Please use right path for the project!");var h=new a.Deferred;a.when(h).done(function(){c.fadeIn(700,function(){if(e)c.css("height",a(window).height()),b.resizeScrollBar();else{var f=c.offset().top-80;a("html, body").animate({scrollTop:f},800),a('[data-spy="scroll"]').each(function(){a(this).scrollspy("refresh")})}d.addClass("active")}),b.closeProject(),b.responsiveVideos()}),c.load(g+" #project-content",function(){h.resolve()})},closeProject:function(){{var b=this,c=a("#portfolio-single-content");c.find(".single-portfolio")}a(".portfolio-close").on("click",function(d){a(c).fadeOut(600,function(){b.container.find(".portfolio-item.active").removeClass("active")}).html(""),d.preventDefault()})},responsiveVideos:function(){a.fn.fitVids&&a("body").fitVids()}};b.init(),a.event.special.debouncedresize?a(window).on("debouncedresize",function(){b.calculateWidth(),b.isotopeReinit(),b.resizeScrollBar(!0)}):a(window).on("resize",function(){b.calculateWidth(),b.isotopeReinit(),b.resizeScrollBar(!0)}),"undefined"!=typeof Pace?Pace.on("done",function(){b.elementsAnimate()}):a(window).on("load",function(){b.elementsAnimate()})}(jQuery);